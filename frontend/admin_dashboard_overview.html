<!DOCTYPE html>
<html class="light" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Admin Dashboard Overview (Orange)</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<link href="index.css" rel="stylesheet"/>
<script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#f97316", // Vibrant Corporate Orange (Tailwind Orange 500)
                        "primary-dark": "#ea580c", // Orange 600
                        "background-light": "#f6f7f8",
                        "background-dark": "#101822",
                    },
                    fontFamily: {
                        "display": ["Inter"]
                    },
                    borderRadius: {"DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px"},
                },
            },
        }
    </script>
<style type="text/tailwindcss">
        body { font-family: 'Inter', sans-serif; }
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
        :root {
            --primary-color: #f97316;
        }
        .shebamiles-logo {
            font-family: 'Poppins', sans-serif;
            font-weight: 900;
            font-size: 1.25rem;
            background: linear-gradient(135deg, #f97316 0%, #fb923c 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.02em;
        }
        .employee-card {
            transition: all 0.3s ease;
        }
        .employee-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 25px rgba(249, 115, 22, 0.15);
        }
        .skeleton {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700;800;900&amp;display=swap" rel="stylesheet"/>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-slate-100 min-h-screen flex">
<aside class="w-64 border-r border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 flex flex-col sticky top-0 h-screen shrink-0">
<div class="p-6 border-b border-slate-200 dark:border-slate-800 flex items-center justify-center">
<a class="shebamiles-logo hover:opacity-80 transition-opacity" href="index.html">Shebamiles</a>
</div>
<nav class="flex-1 px-4 py-6 flex flex-col gap-2">
<button type="button" id="navOverview" class="w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg bg-primary/10 text-primary transition-colors focus:outline-none">
<span class="material-symbols-outlined">dashboard</span>
<p class="text-sm font-semibold">Overview</p>
</button>
<button type="button" id="navEmployeeList" class="w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400 transition-colors focus:outline-none" onclick="window.location.href='employee_management.html'">
<span class="material-symbols-outlined">group</span>
<p class="text-sm font-medium">Employee List</p>
</button>
<a href="attendance.html" class="w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400 transition-colors">
<span class="material-symbols-outlined">calendar_today</span>
<p class="text-sm font-medium">Attendance</p>
</a>
<a href="leave_requests.html" class="w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400 transition-colors">
<span class="material-symbols-outlined">pending_actions</span>
<p class="text-sm font-medium">Leave Requests</p>
</a>
<a href="performance_management.html" class="w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400 transition-colors">
<span class="material-symbols-outlined">trending_up</span>
<p class="text-sm font-medium">Performance</p>
</a>
<div class="mt-auto pt-6 border-t border-slate-200 dark:border-slate-800">
<div class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400 cursor-pointer" onclick="AuthUtils.logout()">
<span class="material-symbols-outlined">logout</span>
<p class="text-sm font-medium">Logout</p>
</div>
</div>
<p class="text-sm font-medium">Settings</p>
</div>
</div>
</nav>
<div class="p-4 border-t border-slate-200 dark:border-slate-800">
<div class="flex items-center gap-3 p-2 rounded-lg">
<div class="bg-slate-300 dark:bg-slate-700 size-10 rounded-full bg-cover bg-center" data-alt="Admin user profile picture" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuA8KY7nTJ3edqk0sOGlBbWV_YWYkyS_eMwI15D1UFjcaDbeoZ2E_TsP7eZo5lPFw8xjLa4J_u4mEntATctEndfgpj_TdBXsDdLivcUVJ1Eign88pP27AjhNOh1zwph6ZpOtcTZSnWUcJ5kfwYFRXCYKhZj5wvqwiICHG3gI3mZRpfRyabwbTbKnYgjcczeJLy0a6f5ZG8CTQ9uCg4mrlg3zkCNNlIOYVnVW4JWL9nWaNTy90U77atSYFl10aMY2bIRPIhadIcrP3WGB");'></div>
<div class="flex flex-col">
<p class="text-sm font-bold text-slate-900 dark:text-slate-100" id="welcomeName">Admin User</p>
<p class="text-xs text-slate-500">Administrator</p>
</div>
</div>
</div>
</aside>
<main class="flex-1 flex flex-col min-h-screen overflow-y-auto">
<header class="h-16 flex items-center justify-between px-8 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 sticky top-0 z-10">
<div class="flex items-center gap-4 flex-1 max-w-xl">
<div class="relative w-full">
<span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-xl">search</span>
<input class="w-full bg-slate-50 dark:bg-slate-800 border-none rounded-lg pl-10 pr-4 py-2 text-sm focus:ring-2 focus:ring-primary/20 placeholder:text-slate-400 transition-all" placeholder="Search employees, reports, or records..." type="text" data-search=".employee-row"/>
</div>
</div>
<div class="flex items-center gap-4">
<button class="size-10 flex items-center justify-center rounded-lg bg-slate-50 dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:text-primary transition-colors ripple hover-scale">
<span class="material-symbols-outlined">notifications</span>
</button>
<button class="size-10 flex items-center justify-center rounded-lg bg-slate-50 dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:text-primary transition-colors ripple hover-scale">
<span class="material-symbols-outlined">help</span>
</button>
<div class="h-8 w-px bg-slate-200 dark:bg-slate-700 mx-2"></div>
<a href="add_employee.html" class="px-4 py-2 bg-primary text-white text-sm font-bold rounded-lg hover:bg-primary-dark transition-all flex items-center gap-2 ripple hover-scale">
<span class="material-symbols-outlined text-sm">add</span>
                Add Employee
            </a>
</div>
</header>
<div id="overviewContent" class="p-8 max-w-[1200px] mx-auto w-full">
<div class="mb-6">
    <h2 class="text-2xl font-bold text-slate-900 dark:text-slate-100 mb-2">Dashboard Overview</h2>
    <p class="text-slate-500 dark:text-slate-400">Real-time employee statistics and information</p>
</div>
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
<div class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 p-6 rounded-xl shadow-sm hover-lift scroll-reveal">
<div class="flex items-center justify-between mb-2">
<p class="text-slate-500 dark:text-slate-400 text-sm font-medium">Total Employees</p>
<span class="material-symbols-outlined text-primary">groups</span>
</div>
<p class="text-3xl font-bold tracking-tight text-slate-900 dark:text-slate-100" id="totalEmployees">0</p>
<div class="flex items-center gap-1 mt-2">
<span class="text-emerald-500 text-xs font-bold flex items-center"><span class="material-symbols-outlined text-xs">trending_up</span> Loading...</span>
<span class="text-slate-400 text-xs">from database</span>
</div>
</div>
<div class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 p-6 rounded-xl shadow-sm hover-lift scroll-reveal delay-100">
<div class="flex items-center justify-between mb-2">
<p class="text-slate-500 dark:text-slate-400 text-sm font-medium">Active Employees</p>
<span class="material-symbols-outlined text-emerald-500">check_circle</span>
</div>
<p class="text-3xl font-bold tracking-tight text-slate-900 dark:text-slate-100" id="activeEmployees">0</p>
<div class="w-full bg-slate-100 dark:bg-slate-800 h-1.5 rounded-full mt-3">
<div class="bg-emerald-500 h-1.5 rounded-full" id="activeBar" style="width: 0%"></div>
</div>
<p class="text-xs text-slate-400 mt-2" id="activePercent">0% active</p>
</div>
<div class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 p-6 rounded-xl shadow-sm hover-lift scroll-reveal delay-200">
<div class="flex items-center justify-between mb-2">
<p class="text-slate-500 dark:text-slate-400 text-sm font-medium">Departments</p>
<span class="material-symbols-outlined text-blue-500">domain</span>
</div>
<p class="text-3xl font-bold tracking-tight text-slate-900 dark:text-slate-100" id="totalDepts">0</p>
<p class="text-xs text-slate-500 mt-3 font-medium" id="deptList">Loading...</p>
</div>
<div class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 p-6 rounded-xl shadow-sm hover-lift scroll-reveal delay-300">
<div class="flex items-center justify-between mb-2">
<p class="text-slate-500 dark:text-slate-400 text-sm font-medium">Inactive</p>
<span class="material-symbols-outlined text-rose-500">person_off</span>
</div>
<p class="text-3xl font-bold tracking-tight text-slate-900 dark:text-slate-100" id="inactiveEmployees">0</p>
<p class="text-xs text-rose-500 mt-3 font-medium" id="inactiveSummary">Loading...</p>
</div>
</div>
<div class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl shadow-sm overflow-hidden mb-8">
<div class="p-6 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between">
<div>
<h3 class="text-lg font-bold text-slate-900 dark:text-slate-100">Attendance Trends</h3>
<p class="text-sm text-slate-500">Weekly breakdown of employee presence</p>
</div>
<div class="flex bg-slate-100 dark:bg-slate-800 p-1 rounded-lg">
<button class="px-3 py-1.5 text-xs font-bold bg-white dark:bg-slate-700 rounded shadow-sm">Last 7 Days</button>
<button class="px-3 py-1.5 text-xs font-bold text-slate-500">Last 30 Days</button>
</div>
</div>
<div class="p-6">
<div class="flex items-baseline gap-2 mb-8">
<p class="text-3xl font-bold">1,102</p>
<p class="text-sm text-emerald-500 font-bold flex items-center"><span class="material-symbols-outlined text-sm">arrow_upward</span> 2.5%</p>
<p class="text-sm text-slate-400 ml-auto">Monday, Feb 2 â€” Sunday, Feb 8</p>
</div>
<div class="w-full h-72 relative">
<svg class="w-full h-full" preserveAspectRatio="none" viewBox="0 0 1000 300">
<defs>
<linearGradient id="chartGradient" x1="0" x2="0" y1="0" y2="1">
<stop offset="0%" stop-color="#f97316" stop-opacity="0.2"></stop>
<stop offset="100%" stop-color="#f97316" stop-opacity="0"></stop>
</linearGradient>
</defs>
<line class="text-slate-100 dark:text-slate-800" stroke="currentColor" stroke-dasharray="4" x1="0" x2="1000" y1="50" y2="50"></line>
<line class="text-slate-100 dark:text-slate-800" stroke="currentColor" stroke-dasharray="4" x1="0" x2="1000" y1="125" y2="125"></line>
<line class="text-slate-100 dark:text-slate-800" stroke="currentColor" stroke-dasharray="4" x1="0" x2="1000" y1="200" y2="200"></line>
<path d="M0,220 L166,100 L332,150 L498,80 L664,130 L830,60 L1000,90 L1000,300 L0,300 Z" fill="url(#chartGradient)"></path>
<path d="M0,220 L166,100 L332,150 L498,80 L664,130 L830,60 L1000,90" fill="none" stroke="#f97316" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"></path>
<circle cx="166" cy="100" fill="#f97316" r="5" stroke="#fff" stroke-width="2"></circle>
<circle cx="332" cy="150" fill="#f97316" r="5" stroke="#fff" stroke-width="2"></circle>
<circle cx="498" cy="80" fill="#f97316" r="5" stroke="#fff" stroke-width="2"></circle>
<circle cx="664" cy="130" fill="#f97316" r="5" stroke="#fff" stroke-width="2"></circle>
<circle cx="830" cy="60" fill="#f97316" r="5" stroke="#fff" stroke-width="2"></circle>
<circle cx="1000" cy="90" fill="#f97316" r="5" stroke="#fff" stroke-width="2"></circle>
</svg>
</div>
<div class="flex justify-between mt-4 px-2">
<span class="text-xs font-bold text-slate-500 uppercase">Mon</span>
<span class="text-xs font-bold text-slate-500 uppercase">Tue</span>
<span class="text-xs font-bold text-slate-500 uppercase">Wed</span>
<span class="text-xs font-bold text-slate-500 uppercase">Thu</span>
<span class="text-xs font-bold text-slate-500 uppercase">Fri</span>
<span class="text-xs font-bold text-slate-500 uppercase">Sat</span>
<span class="text-xs font-bold text-slate-500 uppercase">Sun</span>
</div>
</div>
</div>
<div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
<div class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl shadow-sm p-6">
<h3 class="font-bold text-slate-900 dark:text-slate-100 mb-6 flex items-center gap-2">
<span class="material-symbols-outlined text-primary">history</span>
                    Recent Activity
                </h3>
<div class="space-y-6">
<div class="flex gap-4">
<div class="size-10 rounded-full bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center shrink-0">
<span class="material-symbols-outlined text-primary dark:text-primary text-xl">person_add</span>
</div>
<div>
<p class="text-sm font-bold">New employee onboarded</p>
<p class="text-xs text-slate-500">Sarah Johnson joined the Design Team</p>
<p class="text-[10px] text-slate-400 mt-1 uppercase font-bold tracking-wider">2 hours ago</p>
</div>
</div>
<div class="flex gap-4">
<div class="size-10 rounded-full bg-emerald-100 dark:bg-emerald-900 flex items-center justify-center shrink-0">
<span class="material-symbols-outlined text-emerald-600 dark:text-emerald-300 text-xl">verified</span>
</div>
<div>
<p class="text-sm font-bold">Performance review completed</p>
<p class="text-xs text-slate-500">Michael Chen - Q3 Technical Assessment</p>
<p class="text-[10px] text-slate-400 mt-1 uppercase font-bold tracking-wider">5 hours ago</p>
</div>
</div>
<div class="flex gap-4">
<div class="size-10 rounded-full bg-amber-100 dark:bg-amber-900 flex items-center justify-center shrink-0">
<span class="material-symbols-outlined text-amber-600 dark:text-amber-300 text-xl">request_quote</span>
</div>
<div>
<p class="text-sm font-bold">Leave request pending</p>
<p class="text-xs text-slate-500">James Wilson requested 3 days of sick leave</p>
<p class="text-[10px] text-slate-400 mt-1 uppercase font-bold tracking-wider">Yesterday</p>
</div>
</div>
</div>
<button class="w-full mt-6 py-2 text-primary font-bold text-sm hover:bg-orange-50 dark:hover:bg-slate-800 rounded-lg transition-colors">View All Activity</button>
</div>
<div class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl shadow-sm p-6">
<h3 class="font-bold text-slate-900 dark:text-slate-100 mb-6 flex items-center gap-2">
<span class="material-symbols-outlined text-primary">event_busy</span>
                    Upcoming Absences
                </h3>
<div class="space-y-4">
<div class="flex items-center justify-between p-3 rounded-lg border border-slate-100 dark:border-slate-800">
<div class="flex items-center gap-3">
<div class="size-8 rounded-full bg-slate-100 bg-cover bg-center" data-alt="Avatar of employee on leave" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuC4Xv4sfD_9EqfY79l8B1uicTSZ3DerNVVnWnxfnvuwHW6H3gAr_nFnKiXOsul-Egz8Bx7-_siOF_KlsYD0PLkw6_NT_jLjaCjUPo2AgmWxvlCfJr4DvbEYEiErhNt07xxcxB0SzUOOG-Zk3v3CYaSyhj7p0BKdujAsdgcwFYk89EydPHjPVZVi9VhN30ySX4_35tw_sDf174qLcj_aQ0Lm1zPR1v6vuWeHv9yfu5DMaLrgEN6QBNzAt1UpUr5G53BfeTe4lfV44Ala");'></div>
<div>
<p class="text-sm font-bold">Emma Thompson</p>
<p class="text-[10px] text-slate-500 uppercase font-bold tracking-widest">Marketing</p>
</div>
</div>
<div class="text-right">
<p class="text-xs font-bold text-primary">Feb 10 - Feb 13</p>
<p class="text-[10px] text-slate-400">Annual Leave</p>
</div>
</div>
<div class="flex items-center justify-between p-3 rounded-lg border border-slate-100 dark:border-slate-800">
<div class="flex items-center gap-3">
<div class="size-8 rounded-full bg-slate-100 bg-cover bg-center" data-alt="Avatar of employee on leave" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuCIqRbuUeQ7oRuBdXCI9Bx-C4QAgbt26RWgKOJcxVQGeyouleFva8T_y_uwL8bBjRRz3Y0u7Y1je3chE79UPRHKuJHzcIKmvAg8UMMcxUORG02SV5wdmQRFijfAqKBIYQFfSASaJ2yxIUZCFKTwDbK1xgfsMJFe-DCUCk4HOdBG7pZCvaSGhS_Ws-ydM0Xkwvd-WBiLw-udVJZX8vAzXgg6C_z278uTLX7vfw0JhQ-ePCDiCUCE9HH9b8gPMYFG_p0kxXJBuGLBRb23");'></div>
<div>
<p class="text-sm font-bold">David Smith</p>
<p class="text-[10px] text-slate-500 uppercase font-bold tracking-widest">Engineering</p>
</div>
</div>
<div class="text-right">
<p class="text-xs font-bold text-primary">Feb 12</p>
<p class="text-[10px] text-slate-400">Personal Day</p>
</div>
</div>
<div class="flex items-center justify-between p-3 rounded-lg border border-slate-100 dark:border-slate-800">
<div class="flex items-center gap-3">
<div class="size-8 rounded-full bg-slate-100 bg-cover bg-center" data-alt="Avatar of employee on leave" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuBzTjSK7071Ce-6dlPnQ2g24JhjsQDmFPKV67jarpnUiaeCBaVHuJ8Um_f7HQ422PR_9HXXuW7TGFDqeowHNgvizxl3ADh4epRKAfGWRnYl3nUfYGtK5DfjL8xChDGvudD1HYnW4emmQ_wu02oKbgpwZunzK77UmOg8QdZiQoQ2cWsFrsn2lJsfqgR8sgGm6UDBo5Jk6E0eFnraFg7G41jlSXfpmqQV30mzvKd76vbxDjG9TdxyQWlKt1Ef_Woz5TcyWsuwNjY8AQld");'></div>
<div>
<p class="text-sm font-bold">Chris Miller</p>
<p class="text-[10px] text-slate-500 uppercase font-bold tracking-widest">Operations</p>
</div>
</div>
<div class="text-right">
<p class="text-xs font-bold text-primary">Feb 17 - Feb 19</p>
<p class="text-[10px] text-slate-400">Conference</p>
</div>
</div>
</div>
</div>
</div>
</main>

<script src="index.js"></script>
<script src="dashboard.js"></script>
<script src="auth-utils.js"></script>
<script>
    // Verify user is admin
    if (!AuthUtils.requireAdmin()) {
        throw new Error('Admin access required');
    }
    
    const navOverview = document.getElementById('navOverview');
    const overviewContent = document.getElementById('overviewContent');

    navOverview.addEventListener('click', () => {
        overviewContent.classList.remove('hidden');
        navOverview.classList.add('bg-primary/10', 'text-primary');
        navOverview.classList.remove('text-slate-600', 'dark:text-slate-400');
    });

    // Load dashboard statistics on page load
    async function loadDashboardStats() {
        try {
            const response = await fetch('../backend/get_employees.php');
            const data = await response.json();
            
            if (data.success) {
                const allEmployees = data.employees;
                const total = data.total;
                const activeCount = allEmployees.filter(e => e.status === 'active').length;
                const inactiveCount = allEmployees.filter(e => e.status === 'inactive').length;
                const deptList = data.departments || [];
                
                // Update dashboard cards
                document.getElementById('totalEmployees').textContent = total;
                document.getElementById('activeEmployees').textContent = activeCount;
                document.getElementById('inactiveEmployees').textContent = inactiveCount;
                document.getElementById('totalDepts').textContent = deptList.length;
                
                // Update active percentage
                const activePercent = total > 0 ? Math.round((activeCount / total) * 100) : 0;
                document.getElementById('activeBar').style.width = activePercent + '%';
                document.getElementById('activePercent').textContent = activePercent + '% active';
                
                // Update department list
                if (deptList.length > 0) {
                    document.getElementById('deptList').textContent = deptList.slice(0, 2).join(', ') + (deptList.length > 2 ? '...' : '');
                }
                
                // Update inactive summary
                const inactivePercent = total > 0 ? Math.round((inactiveCount / total) * 100) : 0;
                document.getElementById('inactiveSummary').textContent = inactivePercent + '% inactive';
            }
        } catch (error) {
            console.error('Error loading dashboard stats:', error);
        }
    }

    // Load stats when page loads
    loadDashboardStats();
</script>
</body></html>